<!DOCTYPE HTML>
<html>
  <head>
      <title>Buzz Wire Game</title>
      <script>global=window</script>
      <meta name="viewport" content="width=device-width, initial-scale=1">

          <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
          crossorigin="anonymous">-->
          
          <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js"></script>
          <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

          <script src="/static/js/plugins/myo.js"></script>
          <script src="/static/js/plugins/vector.myo.js"></script>
          <script src="/static/js/plugins/tingle.min.js"></script>
          <script src="/static/js/game.js"></script>

          <link rel="stylesheet" type="text/css" href="/static/css/plugins/tingle.min.css">
          <link rel="stylesheet" type="text/css" href="/static/css/style.css">
  </head>

  <body>  
      <div class="header">
          <img class="logo" src="/static/img/logos/orange_450-150.png"> 
          <div class="float_help">
              <img class="help"src="/static/img/icons/291207.png"> 
              <div class="help_popup .fade">
                  <div class="arrow-right"></div>
                  <div class="myo_gesture">
                      <img src="/static/img/myo/double_tap.png"> 
                  </div>
              </div>
          </div>
      </div>
      <div class="game">

          <canvas id="game" width="550" height="450">
              Your browser does not support the HTML5 canvas tag.</canvas>
          <canvas id="game_wire" width="550" height="450" class="hidden"></canvas>
          <canvas id="game_start_box" width="550" height="450" class="hidden"></canvas>
          <canvas id="game_end_box" width="550" height="450" class="hidden"></canvas>
          
          <div class="game-inner">
              <img class="bulb">
          </div>

      </div>
      <div class="spacer"></div>
      <div class="spacer"></div>
      <div class="footer">
          <div id="instructions" class="paper">
              <img class="pin" src="/static/img/footer/notes/pin/pin_orange-S.png">
              <div class="paper-inner">
                  <p id="date">27/4/18</p>
                  <table class="scoreboard">
                  <tr><th>Rank</th><th>Username</th><th>Score</th></tr>
                  <tr><td>1.</td><td id="u0"></td><td id="s0"></td></tr>                    
                  <tr><td>2.</td><td id="u1"></td><td id="s1"></td></tr>
                  <tr><td>3.</td><td id="u2"></td><td id="s2"></td></tr>
                  <tr><td>4.</td><td id="u3"></td><td id="s3"></td></tr>
                  <tr><td>5.</td><td id="u4"></td><td id="s4"></td></tr>
                  <tr><td>6.</td><td id="u5"></td><td id="s5"></td></tr>
                  <tr><td>7.</td><td id="u6"></td><td id="s6"></td></tr>
                  <tr><td>8.</td><td id="u7"></td><td id="s7"></td></tr>
                  <tr><td>9.</td><td id="u8"></td><td id="s8"></td></tr>
                  <tr><td>10.</td><td id="u9"></td><td id="s9"></td></tr>
                  </table>
              </div>â€‹
          </div>
          <div class="spacer"></div>
          <div class="notes">
              <div>
                  <img class="about_img" src="/static/img/footer/notes/white_note_r.png" title="About">
              </div>
              <div>
                  <img class="repo_img" src="/static/img/footer/notes/graph_note.png">         
                  <a href="https://github.com/taraokelly/Gesture-Based-Assignment">
                      <img class="git_img" src="/static/img/footer/notes/git/social_128.png" title="Repository">
                  </a>
              </div>
          </div>
          <div class="spacer"></div>
      </div>     
    <!--  
  <h1>Game</h1>
      
        <div class="row align-items-center container-fluid">
      
          <div class="col-lg-5" style="min-height: 400px; padding-left: 60px; border-style: solid">
            <h2>Timer</h2>
            <button onclick="startTimer()">Start</button>
            <button onclick="stopTimer()">Stop</button>
            <p id="demo"></p>

            <form class="form-save" action="/save" method="post">
              <input type="text" id="savedUsername">
              <div>Your Score: <p id="savedTime"></p></div>
              <div><button type='button' id="saveScore" class="btn btn-block text-white" style="background: #9243D3;">Save</button></div>         
          </form>
          </div>
      
          <div class="col-lg-7">
            <div class="rounded" style="padding-right: 30px; padding-left: 30px; margin-right:50px; margin-top: 40px;">
            <h3>Scores</h3>
            <table id="topscores">
              <col width="70"><col width="180"><col width="50">
              <tr>
                  <th>Rank</th><th>Username</th> <th>Score</th>
                </tr>
                <table id="tablecontent">
                  <col width="70"><col width="180"><col width="50"> -->
                  <!-- Easier to have 10 set rows rather than creating elements in javascript. Never going to have more than 10 and if less than 10 entries, remaining rows will just be blank. -->
            <!--      <tr><td>&nbsp;1</td><td id="u0"></td><td id="s0"></td></tr>                    
                  <tr><td>&nbsp;2</td><td id="u1"></td><td id="s1"></td></tr>
                  <tr><td>&nbsp;3</td><td id="u2"></td><td id="s2"></td></tr>
                  <tr><td>&nbsp;4</td><td id="u3"></td><td id="s3"></td></tr>
                  <tr><td>&nbsp;5</td><td id="u4"></td><td id="s4"></td></tr>
                  <tr><td>&nbsp;6</td><td id="u5"></td><td id="s5"></td></tr>
                  <tr><td>&nbsp;7</td><td id="u6"></td><td id="s6"></td></tr>
                  <tr><td>&nbsp;8</td><td id="u7"></td><td id="s7"></td></tr>
                  <tr><td>&nbsp;9</td><td id="u8"></td><td id="s8"></td></tr>
                  <tr><td>10</td><td id="u9"></td><td id="s9"></td></tr>
                </table>
            </table>       
            </div>
          </div>
      
        </div>-->
  <script src="/static/js/tutorial.js"></script>
  <script src="/static/js/script.js"></script>

  <script>
    var canvas = document.getElementById("game");

    Game.load(document.getElementById("game_wire").getContext("2d"),
                document.getElementById("game_start_box").getContext("2d"), 
                document.getElementById("game_end_box").getContext("2d"), 
                canvas.getContext("2d"), canvas.width, canvas.height);
    Myo.connect();

    $( document ).ready(function() {
        fadein_popup();
        window.setTimeout(fadeout_popup,6000);
    });
    Myo.on('connected', function(){
           console.log("connected");
	});
    $(".float_help .help").hover(
        function() {
            fadein_popup();
        }, function() {
            fadeout_popup();
    });
    $(".float_help .help").click(function() {
        if(!Game.on)
            toggle_tutorial();
    });

    Myo.on('fist', function(){
        console.log("fist");
        if(!tutorial_open){
            Game.on = true;
            this.zeroOrientation();
        }
    });
    Myo.on('double_tap', function(){
        console.log("double_tap");
        if(!Game.on)
            toggle_tutorial();
            
    });
    Myo.on('vector', _.throttle(function(vector){
        if(Game.on && !tutorial_open){
            Game.update_game(vector);
        }
    }, 50));

    function fadein_popup(){
        $(".float_help .help_popup").addClass( "fadein" );
    }
    function fadeout_popup(){
        $(".float_help .help_popup").removeClass( "fadein" );
    }
  </script>

  </body>
</html>
